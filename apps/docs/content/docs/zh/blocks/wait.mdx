---
title: 等待
---

import { Callout } from 'fumadocs-ui/components/callout'
import { Step, Steps } from 'fumadocs-ui/components/steps'
import { Image } from '@/components/ui/image'

等待模块会在继续执行下一个模块之前暂停您的工作流一段指定的时间。使用它可以在操作之间添加延迟、遵守 API 速率限制或间隔操作。

<div className="flex justify-center">
  <Image
    src="/static/blocks/wait.png"
    alt="等待模块"
    width={500}
    height={350}
    className="my-6"
  />
</div>

## 概述

等待模块可以让您：

<Steps>
  <Step>
    <strong>添加时间延迟</strong>：在工作流步骤之间暂停执行
  </Step>
  <Step>
    <strong>遵守速率限制</strong>：间隔 API 调用以保持在限制范围内
  </Step>
  <Step>
    <strong>安排序列</strong>：创建带有操作间延迟的定时工作流
  </Step>
</Steps>

## 配置

### 等待时间

输入暂停执行的时长：
- **输入**：正数
- **最大值**：600 秒（10 分钟）或 10 分钟

### 单位

选择时间单位：
- **秒**：用于短时间、精确的延迟
- **分钟**：用于较长时间的暂停

<Callout type="info">
  等待模块可以通过停止工作流来取消。最大等待时间为 10 分钟。
</Callout>

## 输出

- **`<wait.waitDuration>`**：等待时长（以毫秒为单位）
- **`<wait.status>`**：等待状态（“等待中”、“已完成”或“已取消”）

## 示例用例

### API 速率限制

<div className="mb-4 rounded-md border p-4">
  <h4 className="font-medium">场景：保持在 API 速率限制范围内</h4>
  <ol className="list-decimal pl-5 text-sm">
    <li>API 模块发出第一个请求</li>
    <li>等待模块暂停 2 秒</li>
    <li>API 模块发出第二个请求</li>
    <li>流程继续而不会触发速率限制</li>
  </ol>
</div>

### 定时通知

<div className="mb-4 rounded-md border p-4">
  <h4 className="font-medium">场景：发送后续消息</h4>
  <ol className="list-decimal pl-5 text-sm">
    <li>函数发送初始电子邮件</li>
    <li>等待模块暂停 5 分钟</li>
    <li>函数发送后续电子邮件</li>
  </ol>
</div>

### 处理延迟

<div className="mb-4 rounded-md border p-4">
  <h4 className="font-medium">场景：等待外部系统</h4>
  <ol className="list-decimal pl-5 text-sm">
    <li>API 块触发外部系统中的作业</li>
    <li>等待块暂停 30 秒</li>
    <li>API 块检查作业完成状态</li>
  </ol>
</div>

## 最佳实践

- **保持合理的等待时间**：使用等待块处理最长 10 分钟的延迟。对于更长的延迟，请考虑使用计划的工作流
- **监控执行时间**：请记住，等待会延长工作流的总持续时间
